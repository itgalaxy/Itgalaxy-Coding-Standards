<?xml version="1.0"?>
<ruleset name="ItgalaxyCodingStandards">
    <description>Itgalaxy coding standard.</description>
    <arg name="tab-width" value="4"/>

    <!-- Drupal rules -->
    <!-- Todo false positive $test = new class {}; -->
    <!-- <rule ref="Drupal.Classes.ClassCreateInstance"/> -->

    <rule ref="Drupal.Classes.FullyQualifiedNamespace"/>

    <rule ref="Drupal.Classes.UnusedUseStatement"/>

    <rule ref="Drupal.Classes.UseLeadingBackslash"/>

    <rule ref="Drupal.Commenting.ClassComment">
        <exclude name="Drupal.Commenting.ClassComment.Missing"/>
        <exclude name="Drupal.Commenting.ClassComment.SpacingAfter"/>
    </rule>

    <rule ref="Drupal.Commenting.DataTypeNamespace"/>

    <rule ref="Drupal.Commenting.FileComment">
        <exclude name="Drupal.Commenting.FileComment.Missing"/>
        <exclude name="Drupal.Commenting.FileComment.FileTag"/>
        <exclude name="Drupal.Commenting.FileComment.NamespaceNoFileDoc"/>
    </rule>

    <rule ref="Drupal.Files.FileEncoding"/>

    <rule ref="Drupal.Semantics.PregSecurity"/>

    <rule ref="Drupal.WhiteSpace.CloseBracketSpacing"/>

    <rule ref="Drupal.WhiteSpace.Comma"/>

    <rule ref="Drupal.WhiteSpace.Namespace"/>

    <rule ref="Drupal.WhiteSpace.OpenBracketSpacing"/>

    <!-- PHPCompatibility rules -->

    <config name="testVersion" value="5.6-99.0"/>

    <!-- <rule ref="PHPCompatibility"/> -->

    <!-- PSR2 rules -->

    <rule ref="PSR2.Classes.ClassDeclaration"/>

    <rule ref="PSR2.Classes.PropertyDeclaration"/>

    <rule ref="PSR2.ControlStructures.ControlStructureSpacing"/>

    <rule ref="PSR2.ControlStructures.ElseIfDeclaration"/>

    <rule ref="PSR2.ControlStructures.SwitchDeclaration"/>

    <rule ref="PSR2.Files.ClosingTag"/>

    <rule ref="PSR2.Files.EndFileNewline"/>

    <rule ref="PSR2.Methods.FunctionCallSignature"/>

    <rule ref="PSR2.Methods.FunctionCallSignature.SpaceAfterCloseBracket">
        <severity>0</severity>
    </rule>

    <rule ref="PSR2.Methods.MethodDeclaration"/>

    <!-- Use NamespaceDeclarationSniff  -->
    <!-- <rule ref="PSR2.Namespaces.NamespaceDeclaration"/> -->

    <rule ref="PSR2.Namespaces.UseDeclaration"/>

    <!-- PSR1 rules -->

    <rule ref="PSR1.Classes.ClassDeclaration"/>

    <rule ref="PSR1.Files.SideEffects"/>

    <!-- Use Generic.NamingConventions.CamelCapsFunctionName -->
    <!-- <rule ref="PSR1.Methods.CamelCapsMethodName"/> -->

    <!-- Squiz rules -->

    <rule ref="Squiz.Arrays.ArrayBracketSpacing"/>

    <!-- <rule ref="Squiz.Arrays.ArrayDeclaration"/> -->

    <!-- <rule ref="Squiz.CSS"/> -->

    <!-- rule PSR2.Classes.ClassDeclaration more best -->
    <!-- <rule ref="Squiz.Classes.ClassDeclaration"/> -->

    <rule ref="Squiz.Classes.ClassFileName"/>

    <rule ref="Squiz.Classes.DuplicateProperty"/>

    <rule ref="Squiz.Classes.LowercaseClassKeywords"/>

    <rule ref="Squiz.Classes.SelfMemberReference"/>

    <rule ref="Squiz.Classes.ValidClassName"/>

    <rule ref="Squiz.Commenting.BlockComment">
        <exclude name="Squiz.Commenting.BlockComment.LineIndent"/>
        <exclude name="Squiz.Commenting.BlockComment.FirstLineIndent"/>
        <exclude name="Squiz.Commenting.BlockComment.LastLineIndent"/>
        <exclude name="Squiz.Commenting.BlockComment.NoEmptyLineBefore"/>
        <exclude name="Squiz.Commenting.BlockComment.NoEmptyLineAfter"/>
        <exclude name="Squiz.Commenting.BlockComment.NoCapital"/>
    </rule>

    <rule ref="Squiz.Commenting.ClassComment">
        <exclude name="Squiz.Commenting.ClassComment.Missing"/>
    </rule>

    <!-- <rule ref="Squiz.Commenting.ClosingDeclarationComment"/> -->

    <rule ref="Squiz.Commenting.DocCommentAlignment"/>

    <rule ref="Squiz.Commenting.EmptyCatchComment"/>

    <!-- <rule ref="Squiz.Commenting.FileComment"/> -->

    <rule ref="Squiz.Commenting.FunctionComment">
        <exclude name="Squiz.Commenting.FunctionComment.Missing"/>
        <exclude name="Squiz.Commenting.FunctionComment.ScalarTypeHintMissing"/>
    </rule>

    <rule ref="Squiz.Commenting.FunctionCommentThrowTag"/>

    <rule ref="Squiz.Commenting.InlineComment">
        <exclude name="Squiz.Commenting.InlineComment.NotCapital"/>
        <exclude name="Squiz.Commenting.InlineComment.InvalidEndChar"/>
        <exclude name="Squiz.Commenting.InlineComment.SpacingAfter"/>
    </rule>

    <!-- <rule ref="Squiz.Commenting.LongConditionClosingComment"/> -->

    <!-- Allow commenting after statement -->
    <!-- <rule ref="Squiz.Commenting.PostStatementComment"/> -->

    <rule ref="Squiz.Commenting.VariableComment">
        <exclude name="Squiz.Commenting.VariableComment.Missing"/>
    </rule>

    <!-- Use `ControlSignature` sniff -->
    <!-- <rule ref="Squiz.ControlStructures.ControlSignature"/> -->

    <!-- <rule ref="Squiz.ControlStructures.ElseIfDeclaration"/> -->

    <rule ref="Squiz.ControlStructures.ForEachLoopDeclaration"/>

    <rule ref="Squiz.ControlStructures.ForLoopDeclaration"/>

    <rule ref="Squiz.ControlStructures.InlineIfDeclaration">
        <exclude name="Squiz.ControlStructures.InlineIfDeclaration.NotSingleLine"/>
        <exclude name="Squiz.ControlStructures.InlineIfDeclaration.NoBrackets"/>
    </rule>

    <rule ref="Squiz.ControlStructures.LowercaseDeclaration"/>

    <rule ref="Squiz.ControlStructures.SwitchDeclaration">
        <exclude name="Squiz.ControlStructures.SwitchDeclaration.SpacingAfterBreak"/>
        <exclude name="Squiz.ControlStructures.SwitchDeclaration.BreakIndent"/>
        <properties>
            <property name="indent" value="4"/>
        </properties>
    </rule>

    <!-- <rule ref="Squiz.Debug.JSLint"/> -->

    <!-- <rule ref="Squiz.Debug.JavaScriptLint"/> -->

    <!-- <rule ref="Squiz.Files.FileExtension"/> -->

    <!-- <rule ref="Squiz.Formatting.OperatorBracket"/> -->





    <rule ref="Squiz.Functions.FunctionDeclarationArgumentSpacing">
        <properties>
            <property name="equalsSpacing" value="1"/>
        </properties>
    </rule>


    <rule ref="Squiz.Functions.FunctionDeclaration"/>

    <rule ref="Squiz.Functions.FunctionDuplicateArgument"/>

    <!-- <rule ref="Squiz.Functions.GlobalFunction"/> -->

    <!-- Best sniff is `Generic.PHP.LowerCaseKeyword` -->
    <!-- <rule ref="Squiz.Functions.LowercaseFunctionKeywords"/> -->

    <rule ref="Squiz.Functions.MultiLineFunctionDeclaration"/>

    <rule ref="Squiz.NamingConventions.ValidFunctionName">
        <exclude name="Squiz.NamingConventions.ValidFunctionName.PrivateNoUnderscore"/>
    </rule>

    <rule ref="Squiz.NamingConventions.ValidVariableName">
        <exclude name="Squiz.NamingConventions.ValidVariableName.PrivateNoUnderscore"/>
    </rule>

    <!-- <rule ref="Squiz.Objects.DisallowObjectStringIndex"/> -->

    <!-- <rule ref="Squiz.Objects.ObjectInstantiation"/> -->

    <!-- <rule ref="Squiz.Objects.ObjectMemberComma"/> -->

    <!--<rule ref="Squiz.Operators.ComparisonOperatorUsage"/> -->

    <rule ref="Squiz.Operators.IncrementDecrementUsage"/>

    <rule ref="Squiz.Operators.ValidLogicalOperators"/>

    <!-- <rule ref="Squiz.PHP.CommentedOutCode"/> -->

    <!-- Todo not working in ternary -->
    <!-- <rule ref="Squiz.PHP.DisallowBooleanStatement"/> -->

    <!-- <rule ref="Squiz.PHP.DisallowComparisonAssignment"/> -->

    <!-- <rule ref="Squiz.PHP.DisallowInlineIf"/> -->

    <!-- Todo need enable in next release -->
    <!-- <rule ref="Squiz.PHP.DisallowMultipleAssignments"/> -->

    <rule ref="Squiz.PHP.DisallowObEndFlush"/>

    <rule ref="Squiz.PHP.DisallowSizeFunctionsInLoops"/>

    <!-- Best sniff is `ItgalaxyCodingStandards.PHP.ForbiddenFunctionsSniff` -->
    <!-- <rule ref="Squiz.PHP.DiscouragedFunctions"/> -->

    <!-- <rule ref="Squiz.PHP.EmbeddedPhp"/> -->

    <rule ref="Squiz.PHP.Eval"/>

    <!-- Best sniff is `ItgalaxyCodingStandards.PHP.ForbiddenFunctionsSniff` -->
    <!-- <rule ref="Squiz.PHP.ForbiddenFunctions"/> -->

    <!-- Todo need investigation -->
    <!-- <rule ref="Squiz.PHP.GlobalKeyword"/> -->

    <rule ref="Squiz.PHP.Heredoc"/>

    <rule ref="Squiz.PHP.InnerFunctions"/>

    <rule ref="Squiz.PHP.LowercasePHPFunctions"/>

    <rule ref="Squiz.PHP.NonExecutableCode"/>

    <rule ref="Squiz.Scope.MemberVarScope"/>

    <rule ref="Squiz.Scope.MethodScope"/>

    <rule ref="Squiz.Scope.StaticThisUsage"/>

    <rule ref="Squiz.Strings.ConcatenationSpacing">
        <properties>
            <property name="spacing" value="1"/>
            <property name="ignoreNewlines" value="true"/>
        </properties>
    </rule>

    <!-- Todo need enable in next release -->
    <!-- <rule ref="Squiz.Strings.DoubleQuoteUsage"/> -->

    <rule ref="Squiz.Strings.EchoedStrings"/>

    <rule ref="Squiz.WhiteSpace.CastSpacing"/>

    <!-- See comment below -->
    <rule ref="Squiz.WhiteSpace.ControlStructureSpacing"/>

    <!--
        When 3.0 is released, change this to:
        <rule ref="Squiz.WhiteSpace.ControlStructureSpacing.SpacingAfterOpen" />
        <rule ref="Squiz.WhiteSpace.ControlStructureSpacing.SpacingBeforeClose" />
    -->
    <rule ref="Squiz.WhiteSpace.ControlStructureSpacing.SpacingAfterOpenBrace">
        <severity>0</severity>
    </rule>
    <rule ref="Squiz.WhiteSpace.ControlStructureSpacing.SpaceBeforeCloseBrace">
        <severity>0</severity>
    </rule>
    <rule ref="Squiz.WhiteSpace.ControlStructureSpacing.LineAfterClose">
        <severity>0</severity>
    </rule>
    <rule ref="Squiz.WhiteSpace.ControlStructureSpacing.NoLineAfterClose">
        <severity>0</severity>
    </rule>

    <rule ref="Squiz.WhiteSpace.FunctionClosingBraceSpace">
        <exclude name="Squiz.WhiteSpace.FunctionClosingBraceSpace.SpacingBeforeClose"/>
    </rule>

    <rule ref="Squiz.WhiteSpace.FunctionOpeningBraceSpace"/>

    <!-- Todo need support afterLast option -->
    <!-- <rule ref="Squiz.WhiteSpace.FunctionSpacing"/> -->

    <rule ref="Squiz.WhiteSpace.LanguageConstructSpacing"/>

    <rule ref="Squiz.WhiteSpace.LogicalOperatorSpacing"/>

    <!-- Todo need support beforeFirst option -->
    <!-- <rule ref="Squiz.WhiteSpace.MemberVarSpacing"/> -->

    <!-- Best sniff is `ItgalaxyCodingStandards.WhiteSpace.ObjectOperatorSpacingSniff` -->
    <!-- <rule ref="Squiz.WhiteSpace.ObjectOperatorSpacing"/> -->

    <!-- Best sniff is `ItgalaxyCodingStandards.WhiteSpace.OperatorSpacing` -->
    <!-- <rule ref="Squiz.WhiteSpace.OperatorSpacing"/> -->

    <!-- <rule ref="Squiz.WhiteSpace.PropertyLabelSpacing"/> -->

    <!-- Todo need rewrite -->
    <!-- <rule ref="Squiz.WhiteSpace.ScopeClosingBrace"/> -->

    <!-- Todo https://github.com/squizlabs/PHP_CodeSniffer/issues/1312 -->
    <rule ref="Squiz.WhiteSpace.ScopeKeywordSpacing"/>

    <rule ref="Squiz.WhiteSpace.SemicolonSpacing"/>

    <!-- There MUST NOT be trailing whitespace at the end of non-blank lines. -->
    <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace">
        <properties>
            <property name="ignoreBlankLines" value="true"/>
        </properties>
    </rule>

    <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace.StartFile">
        <severity>0</severity>
    </rule>
    <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace.EndFile">
        <severity>0</severity>
    </rule>
    <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace.EmptyLines">
        <severity>0</severity>
    </rule>


    <!-- Zend rules -->

    <!-- <rule ref="Zend.Debug.CodeAnalyzer"/> -->

    <!-- <rule ref="Zend.Files.ClosingTag"/> -->

    <!-- <rule ref="Zend.NamingConventions.ValidVariableName"/> -->


    <!-- PEAR rules -->

    <!-- <rule ref="PEAR.Classes.ClassDeclaration"/> -->

    <!-- <rule ref="PEAR.Commenting.ClassComment"/> -->

    <!-- <rule ref="PEAR.Commenting.FileComment"/> -->

    <!-- <rule ref="PEAR.Commenting.FunctionComment"/> -->

    <!-- <rule ref="PEAR.Commenting.InlineComment"/> -->

    <!-- <rule ref="PEAR.ControlStructures.ControlSignature"/> -->

    <!-- <rule ref="PEAR.ControlStructures.MultiLineCondition"/> -->

    <rule ref="PEAR.Files.IncludingFile"/>

    <!-- <rule ref="PEAR.Formatting.MultiLineAssignment"/> -->

    <!-- <rule ref="PEAR.Functions.FunctionCallSignature"/> -->

    <!-- <rule ref="PEAR.Functions.FunctionDeclaration"/> -->

    <rule ref="PEAR.Functions.ValidDefaultValue"/>

    <!-- <rule ref="PEAR.NamingConventions.ValidClassName"/> -->

    <!-- <rule ref="PEAR.NamingConventions.ValidFunctionName"/> -->

    <!-- <rule ref="PEAR.NamingConventions.ValidVariableName"/> -->

    <!-- <rule ref="PEAR.WhiteSpace.ObjectOperatorIndent"/> -->

    <!-- <rule ref="PEAR.WhiteSpace.ScopeClosingBrace"/> -->

    <!-- <rule ref="PEAR.WhiteSpace.ScopeIndent"/> -->


    <!-- Generic rules -->

    <rule ref="Generic.Arrays.DisallowLongArraySyntax"/>

    <!-- <rule ref="Generic.Arrays.DisallowShortArraySyntax"/> -->

    <rule ref="Generic.Classes.DuplicateClassName"/>

    <!-- <rule ref="Generic.Classes.OpeningBraceSameLine"/> -->

    <rule ref="Generic.CodeAnalysis.EmptyStatement"/>

    <rule ref="Generic.CodeAnalysis.ForLoopShouldBeWhileLoop"/>

    <rule ref="Generic.CodeAnalysis.ForLoopWithTestFunctionCall"/>

    <rule ref="Generic.CodeAnalysis.JumbledIncrementer"/>

    <rule ref="Generic.CodeAnalysis.UnconditionalIfStatement"/>

    <rule ref="Generic.CodeAnalysis.UnnecessaryFinalModifier"/>

    <!-- Best sniff is `ItgalaxyCodingStandards.CodeAnalysis.UnusedFunctionParameters` -->
    <!-- <rule ref="Generic.CodeAnalysis.UnusedFunctionParameter"/> -->

    <rule ref="Generic.CodeAnalysis.UselessOverridingMethod"/>

    <rule ref="Generic.Commenting.DocComment">
        <!-- Todo need investigation -->
        <exclude name="Generic.Commenting.DocComment.MissingShort"/>
    </rule>

    <rule ref="Generic.Commenting.Fixme"/>

    <rule ref="Generic.Commenting.Todo"/>

    <rule ref="Generic.ControlStructures.InlineControlStructure"/>

    <!-- <rule ref="Generic.Debug.CSSLint"/> -->

    <!-- <rule ref="Generic.Debug.ClosureLinter"/> -->

    <!-- <rule ref="Generic.Debug.JSHint"/> -->

    <rule ref="Generic.Files.ByteOrderMark"/>

    <rule ref="Generic.Files.EndFileNewline"/>

    <!-- <rule ref="Generic.Files.EndFileNoNewline"/> -->

    <!-- <rule ref="Generic.Files.InlineHTML"/> -->

    <rule ref="Generic.Files.LineEndings">
        <properties>
            <property name="eolChar" value="\n"/>
        </properties>
    </rule>

    <rule ref="Generic.Files.LineLength">
        <properties>
            <property name="lineLimit" value="120"/>
            <property name="absoluteLineLimit" value="0"/>
        </properties>
    </rule>

    <!-- <rule ref="Generic.Files.LowercasedFilename"/> -->

    <rule ref="Generic.Files.OneClassPerFile"/>

    <rule ref="Generic.Files.OneInterfacePerFile"/>

    <rule ref="Generic.Files.OneTraitPerFile"/>

    <rule ref="Generic.Formatting.DisallowMultipleStatements"/>

    <!-- <rule ref="Generic.Formatting.MultipleStatementAlignment"/> -->

    <!-- <rule ref="Generic.Formatting.NoSpaceAfterCast"/> -->

    <rule ref="Generic.Formatting.SpaceAfterCast"/>

    <!-- <rule ref="Generic.Formatting.SpaceAfterNotSniff"/> -->

    <rule ref="Generic.Functions.CallTimePassByReference"/>

    <!-- Best sniff is `Drupal.WhiteSpace.Comma` -->
    <!-- <rule ref="Generic.Functions.FunctionCallArgumentSpacing"/> -->

    <!-- Best sniff is `Squiz.Functions.MultiLineFunctionDeclaration -->
    <!-- <rule ref="Generic.Functions.OpeningFunctionBraceBsdAllman"/> -->
    <!-- <rule ref="Generic.Functions.OpeningFunctionBraceKernighan"/> -->

    <!-- <rule ref="Generic.Metrics.CyclomaticComplexity"/> -->

    <!-- <rule ref="Generic.Metrics.NestingLevel" /> -->

    <rule ref="Generic.NamingConventions.CamelCapsFunctionName"/>

    <rule ref="Generic.NamingConventions.ConstructorName"/>

    <rule ref="Generic.NamingConventions.UpperCaseConstantName"/>

    <rule ref="Generic.PHP.BacktickOperator"/>

    <!-- <rule ref="Generic.PHP.CharacterBeforePHPOpeningTag"/> -->

    <!-- No need everywhere closing php tag -->
    <!-- <rule ref="Generic.PHP.ClosingPHPTag"/> -->

    <rule ref="Generic.PHP.DeprecatedFunctions"/>

    <rule ref="Generic.PHP.DisallowAlternativePHPTags"/>

    <rule ref="Generic.PHP.DisallowShortOpenTag"/>

    <!-- Todo need working with classes -->
    <!-- <rule ref="Generic.PHP.ForbiddenFunctionsSniff"/> -->

    <rule ref="Generic.PHP.LowerCaseConstant"/>

    <rule ref="Generic.PHP.LowerCaseKeyword"/>

    <rule ref="Generic.PHP.NoSilencedErrors"/>

    <rule ref="Generic.PHP.SAPIUsage"/>

    <rule ref="Generic.PHP.Syntax"/>

    <!-- <rule ref="Generic.PHP.UpperCaseConstant"/> -->

    <rule ref="Generic.Strings.UnnecessaryStringConcat">
        <properties>
            <property name="allowMultiline" value="true"/>
        </properties>
    </rule>

    <!-- <rule ref="Generic.VersionControl.SubversionProperties"/> -->

    <!-- <rule ref="Generic.WhiteSpace.DisallowSpaceIndent"/> -->

    <rule ref="Generic.WhiteSpace.DisallowTabIndent"/>

    <rule ref="Generic.WhiteSpace.ScopeIndent">
        <properties>
            <property name="ignoreIndentationTokens" type="array" value="T_COMMENT,T_DOC_COMMENT_OPEN_TAG"/>
            <property name="indent" value="4"/>
        </properties>
    </rule>

    <rule ref="Internal.NoCodeFound">
        <severity>0</severity>
    </rule>
</ruleset>
